import{r,j as v,R as h,i as q}from"./iframe-BpzKIOUW.js";import{a as z,c as T,u as J}from"./index-ho_Znbh6.js";import{c as $,u as O}from"./index-Cua7R4oS.js";import"./index-CduDAiJW.js";function L(e,t=[]){let o=[];function n(c,l){const i=r.createContext(l),a=o.length;o=[...o,l];const f=m=>{const{scope:b,children:x,...g}=m,I=b?.[e]?.[a]||i,u=r.useMemo(()=>g,Object.values(g));return v.jsx(I.Provider,{value:u,children:x})};f.displayName=c+"Provider";function d(m,b){const x=b?.[e]?.[a]||i,g=r.useContext(x);if(g)return g;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${c}\``)}return[f,d]}const s=()=>{const c=o.map(l=>r.createContext(l));return function(i){const a=i?.[e]||c;return r.useMemo(()=>({[`__scope${e}`]:{...i,[e]:a}}),[i,a])}};return s.scopeName=e,[n,Q(s,...t)]}function Q(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const l=n.reduce((i,{useScope:a,scopeName:f})=>{const m=a(c)[`__scope${f}`];return{...i,...m}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return o.scopeName=t.scopeName,o}function j(e){const t=X(e),o=r.forwardRef((n,s)=>{const{children:c,...l}=n,i=r.Children.toArray(c),a=i.find(te);if(a){const f=a.props.children,d=i.map(m=>m===a?r.Children.count(f)>1?r.Children.only(null):r.isValidElement(f)?f.props.children:null:m);return v.jsx(t,{...l,ref:s,children:r.isValidElement(f)?r.cloneElement(f,void 0,d):null})}return v.jsx(t,{...l,ref:s,children:c})});return o.displayName=`${e}.Slot`,o}function X(e){const t=r.forwardRef((o,n)=>{const{children:s,...c}=o;if(r.isValidElement(s)){const l=ne(s),i=oe(c,s.props);return s.type!==r.Fragment&&(i.ref=n?$(n,l):l),r.cloneElement(s,i)}return r.Children.count(s)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ee=Symbol("radix.slottable");function te(e){return r.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ee}function oe(e,t){const o={...t};for(const n in t){const s=e[n],c=t[n];/^on[A-Z]/.test(n)?s&&c?o[n]=(...i)=>{const a=c(...i);return s(...i),a}:s&&(o[n]=s):n==="style"?o[n]={...s,...c}:n==="className"&&(o[n]=[s,c].filter(Boolean).join(" "))}return{...e,...o}}function ne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}function re(e){const t=e+"CollectionProvider",[o,n]=L(t),[s,c]=o(t,{collectionRef:{current:null},itemMap:new Map}),l=I=>{const{scope:u,children:S}=I,E=h.useRef(null),p=h.useRef(new Map).current;return v.jsx(s,{scope:u,itemMap:p,collectionRef:E,children:S})};l.displayName=t;const i=e+"CollectionSlot",a=j(i),f=h.forwardRef((I,u)=>{const{scope:S,children:E}=I,p=c(i,S),C=O(u,p.collectionRef);return v.jsx(a,{ref:C,children:E})});f.displayName=i;const d=e+"CollectionItemSlot",m="data-radix-collection-item",b=j(d),x=h.forwardRef((I,u)=>{const{scope:S,children:E,...p}=I,C=h.useRef(null),w=O(u,C),F=c(d,S);return h.useEffect(()=>(F.itemMap.set(C,{ref:C,...p}),()=>{F.itemMap.delete(C)})),v.jsx(b,{[m]:"",ref:w,children:E})});x.displayName=d;function g(I){const u=c(e+"CollectionConsumer",I);return h.useCallback(()=>{const E=u.collectionRef.current;if(!E)return[];const p=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(u.itemMap.values()).sort((F,P)=>p.indexOf(F.ref.current)-p.indexOf(P.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:l,Slot:f,ItemSlot:x},g,n]}var se=q[" useId ".trim().toString()]||(()=>{}),ce=0;function ie(e){const[t,o]=r.useState(se());return z(()=>{o(n=>n??String(ce++))},[e]),e||(t?`radix-${t}`:"")}function le(e){const t=ue(e),o=r.forwardRef((n,s)=>{const{children:c,...l}=n,i=r.Children.toArray(c),a=i.find(fe);if(a){const f=a.props.children,d=i.map(m=>m===a?r.Children.count(f)>1?r.Children.only(null):r.isValidElement(f)?f.props.children:null:m);return v.jsx(t,{...l,ref:s,children:r.isValidElement(f)?r.cloneElement(f,void 0,d):null})}return v.jsx(t,{...l,ref:s,children:c})});return o.displayName=`${e}.Slot`,o}function ue(e){const t=r.forwardRef((o,n)=>{const{children:s,...c}=o;if(r.isValidElement(s)){const l=pe(s),i=de(c,s.props);return s.type!==r.Fragment&&(i.ref=n?$(n,l):l),r.cloneElement(s,i)}return r.Children.count(s)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ae=Symbol("radix.slottable");function fe(e){return r.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ae}function de(e,t){const o={...t};for(const n in t){const s=e[n],c=t[n];/^on[A-Z]/.test(n)?s&&c?o[n]=(...i)=>{const a=c(...i);return s(...i),a}:s&&(o[n]=s):n==="style"?o[n]={...s,...c}:n==="className"&&(o[n]=[s,c].filter(Boolean).join(" "))}return{...e,...o}}function pe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var me=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],V=me.reduce((e,t)=>{const o=le(`Primitive.${t}`),n=r.forwardRef((s,c)=>{const{asChild:l,...i}=s,a=l?o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...i,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ce(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...o)=>t.current?.(...o),[])}var ve=r.createContext(void 0);function Se(e){const t=r.useContext(ve);return e||t||"ltr"}var N="rovingFocusGroup.onEntryFocus",Ie={bubbles:!1,cancelable:!0},_="RovingFocusGroup",[D,G,Re]=re(_),[ge,Oe]=L(_,[Re]),[Ee,xe]=ge(_),k=r.forwardRef((e,t)=>v.jsx(D.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(D.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(be,{...e,ref:t})})}));k.displayName=_;var be=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:n,loop:s=!1,dir:c,currentTabStopId:l,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:a,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...m}=e,b=r.useRef(null),x=O(t,b),g=Se(c),[I,u]=J({prop:l,defaultProp:i??null,onChange:a,caller:_}),[S,E]=r.useState(!1),p=Ce(f),C=G(o),w=r.useRef(!1),[F,P]=r.useState(0);return r.useEffect(()=>{const R=b.current;if(R)return R.addEventListener(N,p),()=>R.removeEventListener(N,p)},[p]),v.jsx(Ee,{scope:o,orientation:n,dir:g,loop:s,currentTabStopId:I,onItemFocus:r.useCallback(R=>u(R),[u]),onItemShiftTab:r.useCallback(()=>E(!0),[]),onFocusableItemAdd:r.useCallback(()=>P(R=>R+1),[]),onFocusableItemRemove:r.useCallback(()=>P(R=>R-1),[]),children:v.jsx(V.div,{tabIndex:S||F===0?-1:0,"data-orientation":n,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:T(e.onMouseDown,()=>{w.current=!0}),onFocus:T(e.onFocus,R=>{const U=!w.current;if(R.target===R.currentTarget&&U&&!S){const M=new CustomEvent(N,Ie);if(R.currentTarget.dispatchEvent(M),!M.defaultPrevented){const A=C().filter(y=>y.focusable),H=A.find(y=>y.active),Y=A.find(y=>y.id===I),Z=[H,Y,...A].filter(Boolean).map(y=>y.ref.current);W(Z,d)}}w.current=!1}),onBlur:T(e.onBlur,()=>E(!1))})})}),B="RovingFocusGroupItem",K=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:n=!0,active:s=!1,tabStopId:c,children:l,...i}=e,a=ie(),f=c||a,d=xe(B,o),m=d.currentTabStopId===f,b=G(o),{onFocusableItemAdd:x,onFocusableItemRemove:g,currentTabStopId:I}=d;return r.useEffect(()=>{if(n)return x(),()=>g()},[n,x,g]),v.jsx(D.ItemSlot,{scope:o,id:f,focusable:n,active:s,children:v.jsx(V.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:T(e.onMouseDown,u=>{n?d.onItemFocus(f):u.preventDefault()}),onFocus:T(e.onFocus,()=>d.onItemFocus(f)),onKeyDown:T(e.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){d.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const S=we(u,d.orientation,d.dir);if(S!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let p=b().filter(C=>C.focusable).map(C=>C.ref.current);if(S==="last")p.reverse();else if(S==="prev"||S==="next"){S==="prev"&&p.reverse();const C=p.indexOf(u.currentTarget);p=d.loop?Fe(p,C+1):p.slice(C+1)}setTimeout(()=>W(p))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:I!=null}):l})})});K.displayName=B;var ye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function he(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function we(e,t,o){const n=he(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ye[n]}function W(e,t=!1){const o=document.activeElement;for(const n of e)if(n===o||(n.focus({preventScroll:t}),document.activeElement!==o))return}function Fe(e,t){return e.map((o,n)=>e[(t+n)%e.length])}var De=k,Me=K;export{Me as I,De as R,Oe as a,ie as b,L as c,Se as u};
